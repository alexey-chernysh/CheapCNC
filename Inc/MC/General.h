/*
 * General.hpp
 *
 *  Created on: 19 ����. 2018 �.
 *      Author: Sales
 */

#ifndef MC_GENERAL_H_
#define MC_GENERAL_H_

#include "Math/int_math.h"

// ��������� ��� ���-�� ���� X � Y, �.�. �������� ������� �������� ���
// ����� ����� (�������� MCU)/(PWM_PRESCALER+1)
#define PWM_PRESCALER 0

// ������� ��� ���-�� ���� X � Y, �.�. ������������� ��������� ���
// ����� ����� (�������� ���)/(PWM_PERIOD+1)
// � ������ ��� ����, ��� �����, �� ���������� ������������� ������������� ������
// ����� ���������, ���� ���� � �������� 10...20 ���
#define PWM_PERIOD 7199

// ����������� ������ ���,
// TODO � ������ ������ ������������ ����� ����������
#define MAX_PWM_WIDTH 0.5

// ��� ���������� ������� ���������� ����������� 4-�� ������ ��� ������ �������
// �� ��� ������ �� ������ H-����, �.�.:
// 1-� ����� - ��� ��� ������ ����� H-����� ������ ������� ��
// 2-� ����� - ��� ��� ������� ����� H-����� ������ ������� ��
// 3-� ����� - ��� ��� ������ ����� H-����� ������ ������� ��
// 4-� ����� - ��� ��� ������� ����� H-����� ������ ������� ��
#define X_AXIS_TIMER TIM2
#define Y_AXIS_TIMER TIM3

// ������ �������� ��� �������.
// �������������� ������� ������������ ��� ���������� �����������
// ����� ��������� � ��������� ��������� ��������
#define POSITION_FIRST_SIGNIFICANT_BIT 10

// ������������ ������ ���������, �.�. ��� ��������� (��� ������� 1/200 �� �������)
// ������� � ����� ������ �� 64 ��������� (12800 ���������� �� ������)
// ����� ��� ��������, ����� ��������� � ����
#define MAX_MICROSTEP 0b00111111

// ���������� �������� ��������� 42-57-86 ��
#define STEP_PER_ROTATION 200.0

// �������� ������ � ����� � ������� 1
#define TOOTH_STEP 3.14

// ����� ����� � ��������
// TODO ���� ���������� ���������
#define N_OF_TOOTH 15

	float GetMinVelocity();  // mm in minute
	float GetMaxVelocity();  // mm in minute

#endif /* MC_GENERAL_H_ */
